@(label: String, statementTermForm: Form[ExpressionTerm])(implicit session: play.api.db.slick.Session)

@implicitFieldConstructor = @{ b3.horizontal.fieldConstructor("col-md-3", "col-md-9") }

@expressionTerms("Editing a statement term", "statementTerms") {
    <h1>Editing a statement term</h1>

    @b3.form(routes.StatementTermsController.update(label)) {
        <fieldset>
            <input type="hidden" name="label" value='@label'>
            @b3.textarea(statementTermForm("statementTemplate"), '_label -> "Statement Template")
            @b3.textarea(statementTermForm("displayCondition"), '_label -> "Display Condition",
                'id -> "displayCondition")
        </fieldset>

        <div class="actions col-md-offset-3">
            <button type="submit" class="btn btn-primary">
                <span class="fa fa-save"></span> Save
            </button>

            <a href="@routes.StatementTermsController.list()" class="btn btn-default">
                <span class="fa fa-close"></span> Cancel
            </a>
        </div>

        <script>
            window.validCEVariables = [@Html(ExpressionTerm.list.map("\""+ _.label +"\"").mkString(","))];

            $(document).ready(function () {
                CodeMirror.fromTextArea(document.getElementById("displayCondition"), {
                    lineNumbers: true
                });
            });
        </script>
    }
}
